<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content='load_all() loads a package. It roughly simulates what happens
when a package is installed and loaded with library(), without
having to first install the package. It:
Loads all data files in data/. See load_data() for more
details.
Sources all R files in the R directory, storing results in
environment that behaves like a regular package namespace. See
load_code() for more details.
Adds a shim from system.file() to shim_system.file() in
the imports environment of the package. This ensures that system.file()
works with both development and installed packages despite their differing
directory structures.
Adds shims from help() and ? to shim_help() and shim_question()
to make it easier to preview development documentation.
Compiles any C, C++, or Fortran code in the src/ directory and
connects the generated DLL into R. See pkgbuild::compile_dll()
for more details.
Loads any compiled translations in inst/po.
Runs .onAttach(), .onLoad() and .onUnload() functions at
the correct times.
If you use testthat, will load all test helpers so you can
access them interactively. devtools sets the DEVTOOLS_LOAD
environment variable to "true" to let you check whether the
helpers are run during package loading.


is_loading() returns TRUE when it is called while load_all()
is running. This may be useful e.g. in .onLoad hooks.'><title>Load complete package — load_all • devtools</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.2.2/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.2.2/bootstrap.bundle.min.js"></script><link href="../deps/Source_Sans_Pro-0.4.5/font.css" rel="stylesheet"><link href="../deps/Source_Code_Pro-0.4.5/font.css" rel="stylesheet"><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Load complete package — load_all"><meta property="og:description" content='load_all() loads a package. It roughly simulates what happens
when a package is installed and loaded with library(), without
having to first install the package. It:
Loads all data files in data/. See load_data() for more
details.
Sources all R files in the R directory, storing results in
environment that behaves like a regular package namespace. See
load_code() for more details.
Adds a shim from system.file() to shim_system.file() in
the imports environment of the package. This ensures that system.file()
works with both development and installed packages despite their differing
directory structures.
Adds shims from help() and ? to shim_help() and shim_question()
to make it easier to preview development documentation.
Compiles any C, C++, or Fortran code in the src/ directory and
connects the generated DLL into R. See pkgbuild::compile_dll()
for more details.
Loads any compiled translations in inst/po.
Runs .onAttach(), .onLoad() and .onUnload() functions at
the correct times.
If you use testthat, will load all test helpers so you can
access them interactively. devtools sets the DEVTOOLS_LOAD
environment variable to "true" to let you check whether the
helpers are run during package loading.


is_loading() returns TRUE when it is called while load_all()
is running. This may be useful e.g. in .onLoad hooks.'><meta property="og:image" content="https://devtools.r-lib.org/logo.png"><meta name="robots" content="noindex"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--><!-- Global site tag (gtag.js) - Google Analytics --><script async src="https://www.googletagmanager.com/gtag/js?id=UA-115082821-1"></script><script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-115082821-1');
</script><script defer data-domain="devtools.r-lib.org,all.tidyverse.org" src="https://plausible.io/js/plausible.js"></script></head><body>
    <a href="#container" class="visually-hidden-focusable">Skip to content</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-none"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">devtools</a>

    <small class="nav-text text-danger me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="In-development version">2.4.5.9000</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/dependencies.html">Devtools dependencies</a>
  </div>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-news">News</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-news">
    <h6 class="dropdown-header" data-toc-skip>Releases</h6>
    <a class="external-link dropdown-item" href="https://www.tidyverse.org/articles/2019/09/devtools-2-2-1/">Version 2.2.1</a>
    <a class="external-link dropdown-item" href="https://www.tidyverse.org/articles/2018/10/devtools-2-0-0/">Version 2.0.0</a>
    <div class="dropdown-divider"></div>
    <a class="dropdown-item" href="../news/index.html">Changelog</a>
  </div>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/r-lib/devtools/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-reference-topic" id="container">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Load complete package</h1>
      <small class="dont-index">Source: <a href="https://github.com/r-lib/devtools/blob/HEAD/R/pkgload.R" class="external-link"><code>R/pkgload.R</code></a></small>
      <div class="d-none name"><code>load_all.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p><code>load_all()</code> loads a package. It roughly simulates what happens
when a package is installed and loaded with <code><a href="https://rdrr.io/r/base/library.html" class="external-link">library()</a></code>, without
having to first install the package. It:</p><ul><li><p>Loads all data files in <code>data/</code>. See <code><a href="https://pkgload.r-lib.org/reference/load_data.html" class="external-link">load_data()</a></code> for more
details.</p></li>
<li><p>Sources all R files in the R directory, storing results in
environment that behaves like a regular package namespace. See
<code><a href="https://pkgload.r-lib.org/reference/load_code.html" class="external-link">load_code()</a></code> for more details.</p></li>
<li><p>Adds a shim from <code><a href="https://pkgload.r-lib.org/reference/system.file.html" class="external-link">system.file()</a></code> to <code><a href="https://pkgload.r-lib.org/reference/system.file.html" class="external-link">shim_system.file()</a></code> in
the imports environment of the package. This ensures that <code><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file()</a></code>
works with both development and installed packages despite their differing
directory structures.</p></li>
<li><p>Adds shims from <code><a href="https://rdrr.io/r/utils/help.html" class="external-link">help()</a></code> and <code>?</code> to <code><a href="https://pkgload.r-lib.org/reference/help.html" class="external-link">shim_help()</a></code> and <code><a href="https://pkgload.r-lib.org/reference/help.html" class="external-link">shim_question()</a></code>
to make it easier to preview development documentation.</p></li>
<li><p>Compiles any C, C++, or Fortran code in the <code>src/</code> directory and
connects the generated DLL into R. See <code><a href="https://r-lib.github.io/pkgbuild/reference/compile_dll.html" class="external-link">pkgbuild::compile_dll()</a></code>
for more details.</p></li>
<li><p>Loads any compiled translations in <code>inst/po</code>.</p></li>
<li><p>Runs <code>.onAttach()</code>, <code>.onLoad()</code> and <code>.onUnload()</code> functions at
the correct times.</p></li>
<li><p>If you use <span class="pkg">testthat</span>, will load all test helpers so you can
access them interactively. devtools sets the <code>DEVTOOLS_LOAD</code>
environment variable to <code>"true"</code> to let you check whether the
helpers are run during package loading.</p></li>
</ul><p><code>is_loading()</code> returns <code>TRUE</code> when it is called while <code>load_all()</code>
is running. This may be useful e.g. in <code>.onLoad</code> hooks.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">load_all</span><span class="op">(</span></span>
<span>  path <span class="op">=</span> <span class="st">"."</span>,</span>
<span>  reset <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  recompile <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  export_all <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  helpers <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  quiet <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>path</dt>
<dd><p>Path to a package, or within a package.</p></dd>


<dt>reset</dt>
<dd><p>clear package environment and reset file cache before loading
any pieces of the package. This largely equivalent to running
<code><a href="https://pkgload.r-lib.org/reference/unload.html" class="external-link">unload()</a></code>, however the old namespaces are not completely removed and no
<code>.onUnload()</code> hooks are called. Use <code>reset = FALSE</code> may be faster for
large code bases, but is a significantly less accurate approximation.</p></dd>


<dt>recompile</dt>
<dd><p>DEPRECATED. force a recompile of DLL from source code, if
present. This is equivalent to running <code><a href="https://r-lib.github.io/pkgbuild/reference/clean_dll.html" class="external-link">pkgbuild::clean_dll()</a></code> before
<code>load_all()</code></p></dd>


<dt>export_all</dt>
<dd><p>If <code>TRUE</code> (the default), export all objects.
If <code>FALSE</code>, export only the objects that are listed as exports
in the NAMESPACE file.</p></dd>


<dt>helpers</dt>
<dd><p>if <code>TRUE</code> loads <span class="pkg">testthat</span> test helpers.</p></dd>


<dt>quiet</dt>
<dd><p>if <code>TRUE</code> suppresses output from this function.</p></dd>


<dt>...</dt>
<dd><p>Additional arguments passed to <code><a href="https://pkgload.r-lib.org/reference/load_all.html" class="external-link">pkgload::load_all()</a></code>.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="differences-to-regular-loading">Differences to regular loading<a class="anchor" aria-label="anchor" href="#differences-to-regular-loading"></a></h2>
    

<p><code>load_all()</code> tries its best to reproduce the behaviour of
<code><a href="https://rdrr.io/r/base/ns-load.html" class="external-link">loadNamespace()</a></code> and <code><a href="https://rdrr.io/r/base/library.html" class="external-link">library()</a></code>. However it deviates from normal
package loading in several ways.</p><ul><li><p><code>load_all()</code> doesn't install the package to a library, so <code><a href="https://pkgload.r-lib.org/reference/system.file.html" class="external-link">system.file()</a></code>
doesn't work. pkgload fixes this for the package itself installing a shim,
<code><a href="https://pkgload.r-lib.org/reference/system.file.html" class="external-link">shim_system.file()</a></code>. However, this shim is not visible to third party
packages, so they will fail if they attempt to find files within your
package. One potential workaround is to use <code><a href="https://fs.r-lib.org/reference/path_package.html" class="external-link">fs::path_package()</a></code>
instead of <code><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file()</a></code>, since that understands the mechanisms that
devtools uses to load packages.</p></li>
<li><p><code>load_all()</code> loads all packages referenced in <code>Imports</code> at load time,
but <code><a href="https://rdrr.io/r/base/ns-load.html" class="external-link">loadNamespace()</a></code> and <code><a href="https://rdrr.io/r/base/library.html" class="external-link">library()</a></code> only load package dependencies as
they are needed.</p></li>
<li><p><code>load_all()</code> copies all objects (not just the ones listed as exports)
into the package environment. This is useful during development because
it makes internal objects easy to access.  To export only the objects
listed as exports, use <code>export_all = FALSE</code>. This more closely simulates
behavior when loading an installed package with <code><a href="https://rdrr.io/r/base/library.html" class="external-link">library()</a></code>, and can
be useful for checking for missing exports.</p></li>
</ul></div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span><span class="co"># Load the package in the current directory</span></span></span>
<span class="r-in"><span><span class="fu">load_all</span><span class="op">(</span><span class="st">"./"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Running again loads changed files</span></span></span>
<span class="r-in"><span><span class="fu">load_all</span><span class="op">(</span><span class="st">"./"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># With reset=TRUE, unload and reload the package for a clean start</span></span></span>
<span class="r-in"><span><span class="fu">load_all</span><span class="op">(</span><span class="st">"./"</span>, <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># With export_all=FALSE, only objects listed as exports in NAMESPACE</span></span></span>
<span class="r-in"><span><span class="co"># are exported</span></span></span>
<span class="r-in"><span><span class="fu">load_all</span><span class="op">(</span><span class="st">"./"</span>, export_all <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


   </div>
  <footer><div class="container">
  <div class="pkgdown-footer-left">
  <p></p><p>Developed by <a href="http://hadley.nz" class="external-link">Hadley Wickham</a>, <a href="https://www.jimhester.com/" class="external-link">Jim Hester</a>, <a href="https://github.com/wch" class="external-link">Winston Chang</a>, <a href="https://jennybryan.org" class="external-link">Jennifer Bryan</a>, <a href="https://www.posit.co" class="external-link"><img src="https://www.tidyverse.org/posit-logo.svg" alt="Posit" height="16" style="margin-bottom: 3px;"></a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

  </div></footer></body></html>

