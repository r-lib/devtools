<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="check automatically builds and checks a source package, using all
known best practices. check_built checks an already built package."><title>Build and check a package, cleaning up automatically on success. — check • devtools</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.1.0/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.1.0/bootstrap.bundle.min.js"></script><link href="../deps/_Source%20Sans%20Pro-0.4.1/font.css" rel="stylesheet"><link href="../deps/_Source%20Code%20Pro-0.4.1/font.css" rel="stylesheet"><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.js"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Build and check a package, cleaning up automatically on success. — check"><meta property="og:description" content="check automatically builds and checks a source package, using all
known best practices. check_built checks an already built package."><meta property="og:image" content="https://devtools.r-lib.org/logo.svg"><meta name="robots" content="noindex"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--><!-- Global site tag (gtag.js) - Google Analytics --><script async src="https://www.googletagmanager.com/gtag/js?id=UA-115082821-1"></script><script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-115082821-1');
</script><script defer data-domain="devtools.r-lib.org,all.tidyverse.org" src="https://plausible.io/js/plausible.js"></script></head><body>
    <a href="#container" class="visually-hidden-focusable">Skip to content</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-none"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">devtools</a>

    <small class="nav-text text-danger me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="In-development version">2.4.3.9000</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/dependencies.html">Devtools dependencies</a>
  </div>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-news">News</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-news">
    <h6 class="dropdown-header" data-toc-skip>Releases</h6>
    <a class="external-link dropdown-item" href="https://www.tidyverse.org/articles/2019/09/devtools-2-2-1/">Version 2.2.1</a>
    <a class="external-link dropdown-item" href="https://www.tidyverse.org/articles/2018/10/devtools-2-0-0/">Version 2.0.0</a>
    <div class="dropdown-divider"></div>
    <a class="dropdown-item" href="../news/index.html">Changelog</a>
  </div>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/r-lib/devtools/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-reference-topic" id="container">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.svg" class="logo" alt=""><h1>Build and check a package, cleaning up automatically on success.</h1>
      <small class="dont-index">Source: <a href="https://github.com/r-lib/devtools/blob/HEAD/R/check.R" class="external-link"><code>R/check.R</code></a></small>
      <div class="d-none name"><code>check.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p><code>check</code> automatically builds and checks a source package, using all
known best practices. <code>check_built</code> checks an already built package.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="fu">check</span><span class="op">(</span>
  pkg <span class="op">=</span> <span class="st">"."</span>,
  document <span class="op">=</span> <span class="cn">NULL</span>,
  build_args <span class="op">=</span> <span class="cn">NULL</span>,
  <span class="va">...</span>,
  manual <span class="op">=</span> <span class="cn">FALSE</span>,
  cran <span class="op">=</span> <span class="cn">TRUE</span>,
  remote <span class="op">=</span> <span class="cn">FALSE</span>,
  incoming <span class="op">=</span> <span class="va">remote</span>,
  force_suggests <span class="op">=</span> <span class="cn">FALSE</span>,
  run_dont_test <span class="op">=</span> <span class="cn">FALSE</span>,
  args <span class="op">=</span> <span class="st">"--timings"</span>,
  env_vars <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span>NOT_CRAN <span class="op">=</span> <span class="st">"true"</span><span class="op">)</span>,
  quiet <span class="op">=</span> <span class="cn">FALSE</span>,
  check_dir <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/tempfile.html" class="external-link">tempdir</a></span><span class="op">(</span><span class="op">)</span>,
  cleanup <span class="op">=</span> <span class="cn">TRUE</span>,
  vignettes <span class="op">=</span> <span class="cn">TRUE</span>,
  error_on <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"never"</span>, <span class="st">"error"</span>, <span class="st">"warning"</span>, <span class="st">"note"</span><span class="op">)</span>
<span class="op">)</span>

<span class="fu">check_built</span><span class="op">(</span>
  path <span class="op">=</span> <span class="cn">NULL</span>,
  cran <span class="op">=</span> <span class="cn">TRUE</span>,
  remote <span class="op">=</span> <span class="cn">FALSE</span>,
  incoming <span class="op">=</span> <span class="va">remote</span>,
  force_suggests <span class="op">=</span> <span class="cn">FALSE</span>,
  run_dont_test <span class="op">=</span> <span class="cn">FALSE</span>,
  manual <span class="op">=</span> <span class="cn">FALSE</span>,
  args <span class="op">=</span> <span class="st">"--timings"</span>,
  env_vars <span class="op">=</span> <span class="cn">NULL</span>,
  check_dir <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/tempfile.html" class="external-link">tempdir</a></span><span class="op">(</span><span class="op">)</span>,
  quiet <span class="op">=</span> <span class="cn">FALSE</span>,
  error_on <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"never"</span>, <span class="st">"error"</span>, <span class="st">"warning"</span>, <span class="st">"note"</span><span class="op">)</span>
<span class="op">)</span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>pkg</dt>
<dd><p>The package to use, can be a file path to the package or a
package object.  See <code><a href="as.package.html">as.package()</a></code> for more information.</p></dd>


<dt>document</dt>
<dd><p>By default (<code>NULL</code>) will document if your installed
roxygen2 version matches the version declared in the <code>DESCRIPTION</code>
file. Use <code>TRUE</code> or <code>FALSE</code> to override the default.</p></dd>


<dt>build_args</dt>
<dd><p>Additional arguments passed to <code>R CMD build</code></p></dd>


<dt>...</dt>
<dd><p>Additional arguments passed on to <code><a href="https://rdrr.io/pkg/pkgbuild/man/build.html" class="external-link">pkgbuild::build()</a></code>.</p></dd>


<dt>manual</dt>
<dd><p>If <code>FALSE</code>, don't build and check manual
(<code>--no-manual</code>).</p></dd>


<dt>cran</dt>
<dd><p>if <code>TRUE</code> (the default), check using the same settings as
CRAN uses.</p></dd>


<dt>remote</dt>
<dd><p>Sets <code>_R_CHECK_CRAN_INCOMING_REMOTE_</code> env var.
If <code>TRUE</code>, performs a number of CRAN incoming checks that require
remote access.</p></dd>


<dt>incoming</dt>
<dd><p>Sets <code>_R_CHECK_CRAN_INCOMING_</code> env var.
If <code>TRUE</code>, performs a number of CRAN incoming checks.</p></dd>


<dt>force_suggests</dt>
<dd><p>Sets <code>_R_CHECK_FORCE_SUGGESTS_</code>. If
<code>FALSE</code> (the default), check will proceed even if all suggested
packages aren't found.</p></dd>


<dt>run_dont_test</dt>
<dd><p>Sets <code>--run-donttest</code> so that tests surrounded in
<code>\donttest{}</code> are also tested. When <code>cran = TRUE</code>, this only affects
R 3.6 and earlier; in R 4.0.0 code in <code>\donttest{}</code> is always run as
part of CRAN submission.</p></dd>


<dt>args</dt>
<dd><p>Character vector of arguments to pass to <code>R CMD check</code>. Pass each
argument as a single element of this character vector (do not use spaces to
delimit arguments like you would in the shell). For example, to skip
running of examples and tests, use <code>args = c("--no-examples", "--no-tests")</code> and not <code>args = "--no-examples --no-tests"</code>. (Note that
instead of the <code>--output</code> option you should use the <code>check_dir</code> argument,
because  <code>--output</code> cannot deal with spaces and other special characters on
Windows.)</p></dd>


<dt>env_vars</dt>
<dd><p>Environment variables set during <code>R CMD check</code></p></dd>


<dt>quiet</dt>
<dd><p>if <code>TRUE</code> suppresses output from this function.</p></dd>


<dt>check_dir</dt>
<dd><p>the directory in which the package is checked
compatibility. <code>args = "--output=/foo/bar"</code> can be used to change the
check directory.</p></dd>


<dt>cleanup</dt>
<dd><p>Deprecated.</p></dd>


<dt>vignettes</dt>
<dd><p>If <code>FALSE</code>, do not build or check vignettes, equivalent to
using <code>args = '--ignore-vignettes' and </code>build_args = '--no-build-vignettes'.</p></dd>


<dt>error_on</dt>
<dd><p>Whether to throw an error on <code>R CMD check</code> failures.
Note that the check is always completed (unless a timeout happens),
and the error is only thrown after completion. If <code>"never"</code>, then
no errors are thrown. If <code>"error"</code>, then only <code>ERROR</code> failures
generate errors. If <code>"warning"</code>, then <code>WARNING</code> failures generate
errors as well. If <code>"note"</code>, then any check failure generated an
error. Its default can be modified with the <code>RCMDCHECK_ERROR_ON</code>
environment variable. If that is not set, then <code>"never"</code> is used.</p></dd>


<dt>path</dt>
<dd><p>Path to built package.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    

<p>An object containing errors, warnings, and notes.</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>Passing <code>R CMD check</code> is essential if you want to submit your package
to CRAN: you must not have any ERRORs or WARNINGs, and you want to ensure
that there are as few NOTEs as possible.  If you are not submitting to CRAN,
at least ensure that there are no ERRORs or WARNINGs: these typically
represent serious problems.</p>
<p><code>check</code> automatically builds a package before calling <code>check_built</code>
as this is the recommended way to check packages.  Note that this process
runs in an independent realisation of R, so nothing in your current
workspace will affect the process.</p>
    </div>
    <div class="section level2">
    <h2 id="environment-variables">Environment variables<a class="anchor" aria-label="anchor" href="#environment-variables"></a></h2>
    


<p>Devtools does its best to set up an environment that combines best practices
with how check works on CRAN. This includes:</p>
<ul><li><p>The standard environment variables set by devtools:
<code><a href="r_env_vars.html">r_env_vars()</a></code>. Of particular note for package tests is the
<code>NOT_CRAN</code> env var which lets you know that your tests are not
running on CRAN, and hence can take a reasonable amount of time.</p></li>
<li><p>Debugging flags for the compiler, set by
<code>compiler_flags(FALSE)</code>.</p></li>
<li><p>If <code>aspell</code> is found <code>_R_CHECK_CRAN_INCOMING_USE_ASPELL_</code>
is set to <code>TRUE</code>. If no spell checker is installed, a warning is
issued.)</p></li>
<li><p>env vars set by arguments <code>incoming</code>, <code>remote</code> and
<code>force_suggests</code></p></li>
</ul></div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p><code><a href="release.html">release()</a></code> if you want to send the checked package to
CRAN.</p></div>
    </div>

  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


   </div>
  <footer><div class="container">
  <div class="pkgdown-footer-left">
  <p></p><p>Developed by <a href="http://hadley.nz" class="external-link">Hadley Wickham</a>, <a href="https://www.jimhester.com/" class="external-link">Jim Hester</a>, <a href="https://github.com/wch" class="external-link">Winston Chang</a>, <a href="https://jennybryan.org" class="external-link">Jennifer Bryan</a>, <a href="https://www.rstudio.com" class="external-link"><img src="https://www.tidyverse.org/rstudio-logo.svg" alt="RStudio" width="72"></a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.4.</p>
</div>

  </div></footer></body></html>

