# Build package vignettes.

Builds package vignettes using the same algorithm that `R CMD build`
does. This means including non-Sweave vignettes, using makefiles (if
present), and copying over extra files. The files are copied in the
'doc' directory and an vignette index is created in 'Meta/vignette.rds',
as they would be in a built package. 'doc' and 'Meta' are added to
`.Rbuildignore`, so will not be included in the built package. These
files can be checked into version control, so they can be viewed with
[`browseVignettes()`](https://rdrr.io/r/utils/browseVignettes.html) and
[`vignette()`](https://rdrr.io/r/utils/vignette.html) if the package has
been loaded with
[`load_all()`](https://devtools.r-lib.org/dev/reference/load_all.md)
without needing to re-build them locally.

## Usage

``` r
build_vignettes(
  pkg = ".",
  dependencies = "VignetteBuilder",
  clean = TRUE,
  upgrade = "never",
  quiet = FALSE,
  install = TRUE,
  keep_md = TRUE
)
```

## Arguments

- pkg:

  The package to use, can be a file path to the package or a package
  object. See
  [`as.package()`](https://devtools.r-lib.org/dev/reference/as.package.md)
  for more information.

- dependencies:

  Which dependencies do you want to check? Can be a character vector
  (selecting from "Depends", "Imports", "LinkingTo", "Suggests", or
  "Enhances"), or a logical vector.

  `TRUE` is shorthand for "Depends", "Imports", "LinkingTo" and
  "Suggests". `NA` is shorthand for "Depends", "Imports" and "LinkingTo"
  and is the default. `FALSE` is shorthand for no dependencies (i.e.
  just check this package, not its dependencies).

  The value "soft" means the same as `TRUE`, "hard" means the same as
  `NA`.

  You can also specify dependencies from one or more additional fields,
  common ones include:

  - Config/Needs/website - for dependencies used in building the pkgdown
    site.

  - Config/Needs/coverage for dependencies used in calculating test
    coverage.

- clean:

  Remove all files generated by the build, even if there were copies
  there before.

- upgrade:

  Should package dependencies be upgraded? One of "default", "ask",
  "always", or "never". "default" respects the value of the
  `R_REMOTES_UPGRADE` environment variable if set, and falls back to
  "ask" if unset. "ask" prompts the user for which out of date packages
  to upgrade. For non-interactive sessions "ask" is equivalent to
  "always". `TRUE` and `FALSE` are also accepted and correspond to
  "always" and "never" respectively.

- quiet:

  If `TRUE`, suppresses most output. Set to `FALSE` if you need to
  debug.

- install:

  If `TRUE`, install the package before building vignettes.

- keep_md:

  If `TRUE`, move md intermediates as well as rendered outputs. Most
  useful when using the `keep_md` YAML option for Rmarkdown outputs. See
  <https://bookdown.org/yihui/rmarkdown/html-document.html#keeping-markdown>.

## See also

[`clean_vignettes()`](https://devtools.r-lib.org/dev/reference/clean_vignettes.md)
to remove the pdfs in `doc` created from vignettes

[`clean_vignettes()`](https://devtools.r-lib.org/dev/reference/clean_vignettes.md)
to remove build tex/pdf files.
