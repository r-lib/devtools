<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Build and check a package — check • devtools</title><!-- favicons --><link rel="icon" type="image/png" sizes="96x96" href="../favicon-96x96.png"><link rel="icon" type="”image/svg+xml”" href="../favicon.svg"><link rel="apple-touch-icon" sizes="180x180" href="../apple-touch-icon.png"><link rel="icon" sizes="any" href="../favicon.ico"><link rel="manifest" href="../site.webmanifest"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/Source_Sans_Pro-0.4.10/font.css" rel="stylesheet"><link href="../deps/Source_Code_Pro-0.4.10/font.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Build and check a package — check"><meta name="description" content="check() automatically builds and checks a source package, using all known
best practices. check_built() checks an already-built package.
Passing R CMD check is essential if you want to submit your package to
CRAN: you must not have any ERRORs or WARNINGs, and you want to ensure that
there are as few NOTEs as possible.  If you are not submitting to CRAN, at
least ensure that there are no ERRORs or WARNINGs: these typically represent
serious problems.
check() automatically builds a package before calling check_built(), as
this is the recommended way to check packages.  Note that this process runs
in an independent R session, so nothing in your current workspace will affect
the process. Under-the-hood, check() and check_built() rely on
pkgbuild::build() and rcmdcheck::rcmdcheck()."><meta property="og:description" content="check() automatically builds and checks a source package, using all known
best practices. check_built() checks an already-built package.
Passing R CMD check is essential if you want to submit your package to
CRAN: you must not have any ERRORs or WARNINGs, and you want to ensure that
there are as few NOTEs as possible.  If you are not submitting to CRAN, at
least ensure that there are no ERRORs or WARNINGs: these typically represent
serious problems.
check() automatically builds a package before calling check_built(), as
this is the recommended way to check packages.  Note that this process runs
in an independent R session, so nothing in your current workspace will affect
the process. Under-the-hood, check() and check_built() rely on
pkgbuild::build() and rcmdcheck::rcmdcheck()."><meta property="og:image" content="https://devtools.r-lib.org/logo.png"><!-- Global site tag (gtag.js) - Google Analytics --><script async src="https://www.googletagmanager.com/gtag/js?id=UA-115082821-1"></script><script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-115082821-1');
</script><script defer data-domain="devtools.r-lib.org,all.tidyverse.org" src="https://plausible.io/js/plausible.js"></script></head><body>
    <a href="#container" class="visually-hidden-focusable">Skip to content</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-none" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">devtools</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Released version">2.4.6</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/dependencies.html">Devtools dependencies</a></li>
  </ul></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-news" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">News</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-news"><li><h6 class="dropdown-header" data-toc-skip>Releases</h6></li>
    <li><a class="external-link dropdown-item" href="https://www.tidyverse.org/articles/2019/09/devtools-2-2-1/">Version 2.2.1</a></li>
    <li><a class="external-link dropdown-item" href="https://www.tidyverse.org/articles/2018/10/devtools-2-0-0/">Version 2.0.0</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><a class="dropdown-item" href="../news/index.html">Changelog</a></li>
  </ul></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/r-lib/devtools/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic" id="container">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Build and check a package</h1>
      <small class="dont-index">Source: <a href="https://github.com/r-lib/devtools/blob/main/R/check.R" class="external-link"><code>R/check.R</code></a></small>
      <div class="d-none name"><code>check.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p><code>check()</code> automatically builds and checks a source package, using all known
best practices. <code>check_built()</code> checks an already-built package.</p>
<p>Passing <code>R CMD check</code> is essential if you want to submit your package to
CRAN: you must not have any ERRORs or WARNINGs, and you want to ensure that
there are as few NOTEs as possible.  If you are not submitting to CRAN, at
least ensure that there are no ERRORs or WARNINGs: these typically represent
serious problems.</p>
<p><code>check()</code> automatically builds a package before calling <code>check_built()</code>, as
this is the recommended way to check packages.  Note that this process runs
in an independent R session, so nothing in your current workspace will affect
the process. Under-the-hood, <code>check()</code> and <code>check_built()</code> rely on
<code><a href="https://pkgbuild.r-lib.org/reference/build.html" class="external-link">pkgbuild::build()</a></code> and <code><a href="http://r-lib.github.io/rcmdcheck/reference/rcmdcheck.html" class="external-link">rcmdcheck::rcmdcheck()</a></code>.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">check</span><span class="op">(</span></span>
<span>  pkg <span class="op">=</span> <span class="st">"."</span>,</span>
<span>  document <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  build_args <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  <span class="va">...</span>,</span>
<span>  manual <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  cran <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  remote <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  incoming <span class="op">=</span> <span class="va">remote</span>,</span>
<span>  force_suggests <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  run_dont_test <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  args <span class="op">=</span> <span class="st">"--timings"</span>,</span>
<span>  env_vars <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span>NOT_CRAN <span class="op">=</span> <span class="st">"true"</span><span class="op">)</span>,</span>
<span>  quiet <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  check_dir <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  cleanup <span class="op">=</span> <span class="fu">deprecated</span><span class="op">(</span><span class="op">)</span>,</span>
<span>  vignettes <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  error_on <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"never"</span>, <span class="st">"error"</span>, <span class="st">"warning"</span>, <span class="st">"note"</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu">check_built</span><span class="op">(</span></span>
<span>  path <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  cran <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  remote <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  incoming <span class="op">=</span> <span class="va">remote</span>,</span>
<span>  force_suggests <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  run_dont_test <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  manual <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  args <span class="op">=</span> <span class="st">"--timings"</span>,</span>
<span>  env_vars <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  check_dir <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/tempfile.html" class="external-link">tempdir</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  quiet <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  error_on <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"never"</span>, <span class="st">"error"</span>, <span class="st">"warning"</span>, <span class="st">"note"</span><span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-pkg">pkg<a class="anchor" aria-label="anchor" href="#arg-pkg"></a></dt>
<dd><p>The package to use, can be a file path to the package or a
package object.  See <code><a href="as.package.html">as.package()</a></code> for more information.</p></dd>


<dt id="arg-document">document<a class="anchor" aria-label="anchor" href="#arg-document"></a></dt>
<dd><p>By default (<code>NULL</code>) will document if your installed
roxygen2 version matches the version declared in the <code>DESCRIPTION</code>
file. Use <code>TRUE</code> or <code>FALSE</code> to override the default.</p></dd>


<dt id="arg-build-args">build_args<a class="anchor" aria-label="anchor" href="#arg-build-args"></a></dt>
<dd><p>Additional arguments passed to <code>R CMD build</code></p></dd>


<dt id="arg--">...<a class="anchor" aria-label="anchor" href="#arg--"></a></dt>
<dd><p>Additional arguments passed on to <code><a href="https://pkgbuild.r-lib.org/reference/build.html" class="external-link">pkgbuild::build()</a></code>.</p></dd>


<dt id="arg-manual">manual<a class="anchor" aria-label="anchor" href="#arg-manual"></a></dt>
<dd><p>If <code>FALSE</code>, don't build and check manual (<code>--no-manual</code>).</p></dd>


<dt id="arg-cran">cran<a class="anchor" aria-label="anchor" href="#arg-cran"></a></dt>
<dd><p>if <code>TRUE</code> (the default), check using the same settings as CRAN
uses. Because this is a moving target and is not uniform across all of
CRAN's machine, this is on a "best effort" basis. It is more complicated
than simply setting <code>--as-cran</code>.</p></dd>


<dt id="arg-remote">remote<a class="anchor" aria-label="anchor" href="#arg-remote"></a></dt>
<dd><p>Sets <code>_R_CHECK_CRAN_INCOMING_REMOTE_</code> env var. If <code>TRUE</code>,
performs a number of CRAN incoming checks that require remote access.</p></dd>


<dt id="arg-incoming">incoming<a class="anchor" aria-label="anchor" href="#arg-incoming"></a></dt>
<dd><p>Sets <code>_R_CHECK_CRAN_INCOMING_</code> env var. If <code>TRUE</code>, performs a
number of CRAN incoming checks.</p></dd>


<dt id="arg-force-suggests">force_suggests<a class="anchor" aria-label="anchor" href="#arg-force-suggests"></a></dt>
<dd><p>Sets <code>_R_CHECK_FORCE_SUGGESTS_</code>. If <code>FALSE</code> (the
default), check will proceed even if all suggested packages aren't found.</p></dd>


<dt id="arg-run-dont-test">run_dont_test<a class="anchor" aria-label="anchor" href="#arg-run-dont-test"></a></dt>
<dd><p>Sets <code>--run-donttest</code> so that examples surrounded in
<code>\donttest{}</code> are also run. When <code>cran = TRUE</code>, this only affects R 3.6 and
earlier; in R 4.0, code in <code>\donttest{}</code> is always run as part of CRAN
submission.</p></dd>


<dt id="arg-args">args<a class="anchor" aria-label="anchor" href="#arg-args"></a></dt>
<dd><p>Character vector of arguments to pass to <code>R CMD check</code>. Pass each
argument as a single element of this character vector (do not use spaces to
delimit arguments like you would in the shell). For example, to skip
running of examples and tests, use <code>args = c("--no-examples", "--no-tests")</code> and not <code>args = "--no-examples --no-tests"</code>. (Note that
instead of the <code>--output</code> option you should use the <code>check_dir</code> argument,
because  <code>--output</code> cannot deal with spaces and other special characters on
Windows.)</p></dd>


<dt id="arg-env-vars">env_vars<a class="anchor" aria-label="anchor" href="#arg-env-vars"></a></dt>
<dd><p>Environment variables set during <code>R CMD check</code></p></dd>


<dt id="arg-quiet">quiet<a class="anchor" aria-label="anchor" href="#arg-quiet"></a></dt>
<dd><p>if <code>TRUE</code> suppresses output from this function.</p></dd>


<dt id="arg-check-dir">check_dir<a class="anchor" aria-label="anchor" href="#arg-check-dir"></a></dt>
<dd><p>Path to a directory where the check is performed.
If this is not <code>NULL</code>, then the a temporary directory is used, that
is cleaned up when the returned object is garbage collected.</p></dd>


<dt id="arg-cleanup">cleanup<a class="anchor" aria-label="anchor" href="#arg-cleanup"></a></dt>
<dd><p><a href="https://lifecycle.r-lib.org/articles/stages.html#deprecated" class="external-link"><img src="figures/lifecycle-deprecated.svg" alt="[Deprecated]"></a> See <code>check_dir</code> for details.</p></dd>


<dt id="arg-vignettes">vignettes<a class="anchor" aria-label="anchor" href="#arg-vignettes"></a></dt>
<dd><p>If <code>FALSE</code>, do not build or check vignettes, equivalent to
using <code>args = '--ignore-vignettes'</code> and <code>build_args = '--no-build-vignettes'</code>.</p></dd>


<dt id="arg-error-on">error_on<a class="anchor" aria-label="anchor" href="#arg-error-on"></a></dt>
<dd><p>Whether to throw an error on <code>R CMD check</code> failures. Note
that the check is always completed (unless a timeout happens), and the
error is only thrown after completion.</p>
<p><code>error_on</code> is passed through to <code><a href="http://r-lib.github.io/rcmdcheck/reference/rcmdcheck.html" class="external-link">rcmdcheck::rcmdcheck()</a></code>, which is the
definitive source for what the different values mean. If not specified by
the user, both <code>check()</code> and <code>check_built()</code> default to <code>error_on = "never"</code> in interactive use and <code>"warning"</code> in a non-interactive setting.</p></dd>


<dt id="arg-path">path<a class="anchor" aria-label="anchor" href="#arg-path"></a></dt>
<dd><p>Path to built package.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>An object containing errors, warnings, notes, and more.</p>
    </div>
    <div class="section level2">
    <h2 id="environment-variables">Environment variables<a class="anchor" aria-label="anchor" href="#environment-variables"></a></h2>



<p>Devtools does its best to set up an environment that combines best practices
with how check works on CRAN. This includes:</p><ul><li><p>The standard environment variables set by devtools:
<code><a href="r_env_vars.html">r_env_vars()</a></code>. Of particular note for package tests is the <code>NOT_CRAN</code> env
var, which lets you know that your tests are running somewhere other than
CRAN, and hence can take a reasonable amount of time.</p></li>
<li><p>Debugging flags for the compiler, set by
<code><a href="https://pkgbuild.r-lib.org/reference/compiler_flags.html" class="external-link">compiler_flags(FALSE)</a></code>.</p></li>
<li><p>If <code>aspell</code> is found, <code>_R_CHECK_CRAN_INCOMING_USE_ASPELL_</code>
is set to <code>TRUE</code>. If no spell checker is installed, a warning is issued.</p></li>
<li><p>Environment variables, controlled by arguments <code>incoming</code>, <code>remote</code> and
<code>force_suggests</code>.</p></li>
</ul></div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p><code><a href="release.html">release()</a></code> if you want to send the checked package to
CRAN.</p></div>
    </div>

  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


   </div>
  <footer><div class="container">
  <div class="pkgdown-footer-left">
  <p>Developed by <a href="https://hadley.nz" class="external-link">Hadley Wickham</a>, <a href="https://www.jimhester.com/" class="external-link">Jim Hester</a>, <a href="https://github.com/wch" class="external-link">Winston Chang</a>, <a href="https://jennybryan.org" class="external-link">Jennifer Bryan</a>, <a href="https://www.posit.co" class="external-link"><img src="https://www.tidyverse.org/posit-logo.svg" alt="Posit" height="16" width="62" style="margin-bottom: 3px;"></a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

  </div></footer></body></html>

